<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>√Åll√°slehet≈ës√©gek</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">

    <!-- ScrollMagic -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js"></script>
    
    <!-- ScrollMagic Plugins -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/debug.addIndicators.min.js"></script>

    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/animation.gsap.min.js"></script>

    <!-- Chart.js (specify version 3.9.1) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>

    <!-- Custom CSS -->
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            margin: 0;
            overflow-x: hidden;
            padding-top: 60px;
            background-color: #ffffff;
        }

        /* Navigation Bar */
        .navbar {
            background-color: #ffffff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            padding: 10px;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .navbar.scrolled {
            padding: 5px 10px;
        }

        .navbar-brand {
            font-weight: bold;
            color: #f0b323 !important;
            display: flex;
            align-items: center;
        }

        .navbar-brand img {
            height: 30px;
            margin-right: 5px;
        }

        .navbar-nav {
            margin: 0 auto;
        }

        .navbar-nav .nav-link {
            color: #000000 !important;
            font-weight: 600;
            position: relative;
            margin: 0 5px;
            transition: color 0.3s;
            font-size: 0.9rem;
        }

        .navbar-nav .nav-link.active {
            color: #f0b323 !important;
        }

        .navbar-nav .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #f0b323;
        }

        .nav-link:hover {
            color: #f0b323 !important;
        }

        /* Sections */
        section {
            min-height: auto; /* Let the content determine the height */
            padding: 60px 0;
            box-sizing: border-box;
            scroll-margin-top: 80px; /* For smooth scroll offset */
        }

        /* Headings */
        .section-title {
            text-align: center;
            margin-bottom: 30px;
        }

        .section-title h2 {
            font-size: 2rem;
            font-weight: bold;
            color: #f0b323;
        }

        .section-title p {
            font-size: 1rem;
            color: #777;
        }

        /* Cards */
        .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
            position: relative;
            margin-bottom: 15px;
        }

        .card:hover {
            transform: translateY(-3px);
        }

        /* Magnifying Glass Icon */
        .expand-icon {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 5px;
            padding: 5px;
            cursor: pointer;
        }

        .expand-icon:hover {
            background-color: rgba(255, 255, 255, 1);
        }

        /* Image Gallery */
        .img-fluid {
            border-radius: 10px;
            width: 100%;
            height: 100%;
            object-fit: cover;
            aspect-ratio: 1 / 1;
        }

        /* Download and Copy Icons */
        .icon-button {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 5px;
            padding: 5px;
            cursor: pointer;
        }

        .icon-button:hover {
            background-color: rgba(255, 255, 255, 1);
        }

        /* Modal Styles */
        .modal-header {
            border-bottom: none;
        }

        .modal-header .btn-close {
            background: none;
            border: none;
        }

        .modal-content {
            border-radius: 10px;
        }

        /* Bullet Lists in Modal */
        .modal-body ul {
            list-style: none;
            padding-left: 0;
        }

        .modal-body li {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .modal-body li i {
            margin-right: 8px;
        }

        .green-check i {
            color: green;
        }

        .gray-check i {
            color: gray;
        }

        .yellow-plus i {
            color: #f0b323;
        }

        /* Responsive Adjustments */
        @media (max-width: 1199px) {
            .section-title h2 {
                font-size: 1.8rem;
            }
        }

        @media (max-width: 991px) {
            .navbar .job-selector {
                margin-top: 10px;
            }

            .section-title h2 {
                font-size: 1.6rem;
            }

            .card-title {
                font-size: 1.1rem;
            }

            section {
                padding: 40px 0;
            }
        }

        @media (max-width: 767px) {
            .navbar-nav {
                margin-top: 10px;
            }
            
            .navbar .job-selector {
                margin-top: 10px;
                width: 100%;
            }
            
            .card {
                margin-bottom: 15px;
            }

            .section-title h2 {
                font-size: 1.4rem;
            }

            .section-title p {
                font-size: 0.9rem;
            }

            .card-body {
                padding: 10px;
            }

            .card-title {
                font-size: 1rem;
            }

            .card-text {
                font-size: 0.8rem;
            }

            section {
                padding: 30px 0;
                min-height: auto;
            }

            .navbar-brand img {
                height: 25px;
            }

            .navbar-toggler {
                font-size: 0.9rem;
            }

            .nav-dots {
                display: none;
            }
        }

        @media (max-width: 575px) {
            .navbar-brand {
                font-size: 1rem;
            }

            .navbar-toggler {
                padding: 0.25rem 0.5rem;
            }

            .section-title h2 {
                font-size: 1.2rem;
            }

            .section-title p {
                font-size: 0.8rem;
            }

            .card {
                margin-bottom: 10px;
            }

            .card-body {
                padding: 8px;
            }

            .card-title {
                font-size: 0.9rem;
            }

            .card-text {
                font-size: 0.7rem;
            }

            .icon-button, .expand-icon {
                padding: 3px;
            }

            .modal-dialog {
                margin: 0.5rem;
            }

            .modal-body {
                padding: 0.5rem;
            }

            section {
                padding: 20px 0;
                min-height: auto;
            }
        }

        @media (min-width: 1920px) {
            .section-title h2 {
                font-size: 2.2rem;
            }

            .card-title {
                font-size: 1.4rem;
            }

            .card-text {
                font-size: 1.1rem;
            }
        }

        @media (min-width: 992px) {
            .navbar .job-selector {
                margin-top: 0;
            }
        }

        /* Align job selector to the right */
        .navbar .job-selector {
            margin-left: auto;
        }

        /* Navigation Dots */
        .nav-dots {
            position: fixed;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
        }

        .nav-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #ccc;
            margin: 8px 0;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }

        .nav-dot.active {
            background-color: #f0b323;
            transform: scale(1.2);
        }

        /* Toast message */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #333;
            color: #fff;
            padding: 10px 20px;
            border-radius: 5px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1055;
        }

        .toast.show {
            opacity: 1;
        }

        /* Statistic Cards */
        .stat-card {
            text-align: center;
            padding: 20px;
            color: #333;
            border-radius: 15px;
            background-color: #ffffff;
            border: 1px solid #f0b323;
        }

        .stat-card h3 {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #f0b323;
        }

        .stat-card p {
            font-size: 1.2rem;
            margin: 0;
            color: #555;
        }

        /* Chart Container */
        #chartContainer {
            position: relative;
            height: 60vh;
            width: 100%;
        }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg" id="navbar">
    <div class="container">
        <a class="navbar-brand" href="#">
            <img src="https://mvm.karrierportal.hu/media/picture/mvm/og-img.jpg" alt="C√©glog√≥">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <!-- Centered Nav Links -->
            <ul class="navbar-nav mx-auto align-items-center">
                <li class="nav-item">
                    <a class="nav-link" href="#jobDetailsSection">R√©szletek</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#imageGallerySection">Gal√©ria</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#textSection">Sz√∂vegek</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#analysisSection">Elemz√©s</a>
                </li>
            </ul>
            <!-- Job Selector -->
            <div class="job-selector">
                <div class="dropdown">
                    <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="jobSelector" data-bs-toggle="dropdown" aria-expanded="false">
                        √Åll√°s kiv√°laszt√°sa
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="jobSelector" id="jobDropdown">
                        <!-- Options will be populated by JavaScript -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- Navigation Dots -->
<div class="nav-dots">
    <div class="nav-dot" data-section="jobDetailsSection"></div>
    <div class="nav-dot" data-section="imageGallerySection"></div>
    <div class="nav-dot" data-section="textSection"></div>
    <div class="nav-dot" data-section="analysisSection"></div>
</div>

<!-- Sections -->
<section id="jobDetailsSection">
    <div class="container">
        <!-- Headings -->
        <div class="section-title">
            <h2 id="jobTitleHeading">R√©szletek</h2>
            <p>Az √°ll√°shirdet√©s r√©szletei a karrierport√°lr√≥l</p>
        </div>
        <div id="jobDetails">
            <!-- √Åll√°s r√©szletei ker√ºlnek ide -->
        </div>
    </div>
</section>

<section id="imageGallerySection">
    <div class="container">
        <!-- Headings -->
        <div class="section-title">
            <h2>Gal√©ria</h2>
            <p>Az √°ll√°shirdet√©s posztol√°s√°hoz javasolt AI gener√°lt k√©pek</p>
        </div>
        <div id="imageGallery">
            <!-- K√©pgal√©ria ker√ºl ide -->
        </div>
    </div>
</section>

<section id="textSection">
    <div class="container">
        <!-- Headings -->
        <div class="section-title">
            <h2>Sz√∂vegek</h2>
            <p>Az √°ll√°shirdet√©s posztol√°s√°hoz javasolt AI gener√°lt poszt sz√∂vegek</p>
        </div>
        <div id="textContent">
            <!-- Sz√∂vegek ker√ºlnek ide -->
        </div>
    </div>
</section>

<!-- Updated Analysis Section -->
<section id="analysisSection">
    <div class="container">
        <!-- Headings -->
        <div class="section-title">
            <h2>Elemz√©s</h2>
            <p>Az √°ll√°shirdet√©s teljes√≠tm√©ny√©nek r√©szletes elemz√©se k√ºl√∂nb√∂z≈ë forr√°sokra √©s csatorn√°kra bontva</p>
        </div>

        <!-- Statistic Cards -->
        <div class="row mb-4" id="statCards">
            <!-- Cards will be populated by JavaScript -->
        </div>

        <!-- Chart -->
        <div id="chartContainer">
            <canvas id="myChart"></canvas>
        </div>
    </div>
</section>

<!-- Modals -->
<!-- Bevezet≈ë Modal -->
<div class="modal fade" id="bevezetoModal" tabindex="-1" aria-labelledby="bevezetoModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Bevezet≈ë</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Bez√°r√°s"></button>
      </div>
      <div class="modal-body">
        <!-- Bevezet≈ë teljes sz√∂vege -->
      </div>
    </div>
  </div>
</div>

<!-- R√©szletek Modal -->
<div class="modal fade" id="reszletekModal" tabindex="-1" aria-labelledby="reszletekModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">R√©szletes inform√°ci√≥k</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Bez√°r√°s"></button>
      </div>
      <div class="modal-body">
        <!-- Modal content will be populated dynamically -->
      </div>
    </div>
  </div>
</div>

<!-- Toast √ºzenet -->
<div id="toastMessage" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
  <div class="toast-body"></div>
</div>

<!-- Bootstrap JS and dependencies -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- JavaScript Logic -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const jsonData = {"data":[{"URL":"https://mvm.karrierportal.hu/allas/operativ-beszerzo-eromuvi-beszerzesi-teruletre-7745","Poz√≠ci√≥ neve":"Operat√≠v beszerz≈ë ‚Äì Er≈ëm≈±vi beszerz√©si ter√ºletre","Munkav√©gz√©s helye":"Visonta vagy Budapest III. ker√ºlet","Szakter√ºlet":"Sz√°ll√≠t√°s, Beszerz√©s, Logisztika","Foglalkoztat√°s t√≠pusa":"Munkaszerz≈ëd√©s","Szerz≈ëd√©s t√≠pusa":"Hat√°rozatlan idej≈±","Napi munkaid≈ë":"Teljes munkaid≈ëben","Bevezet≈ë":"A hozz√°rendelt anyagcsoportok vonatkoz√°s√°ban biztos√≠tja a t√°rsas√°g m≈±k√∂d√©s√©hez sz√ºks√©ges anyag, eszk√∂z √©s szolg√°ltat√°sok k√∂lts√©ghat√©kony √©s hat√°rid≈ëre t√∂rt√©n≈ë beszerz√©s√©t keret/konszign√°ci√≥s szerz≈ëd√©sekb≈ël t√∂rt√©n≈ë leh√≠v√°sokkal, valamint √©rt√©khat√°r alatti anyag, eszk√∂z √©s szolg√°ltat√°si ig√©nyek eset√©n egyedi megrendel√©sek l√©trehoz√°s√°val.","Feladatok (t√∂mb)":"[\"A hozz√°rendelt anyagcsoportokra vonatkoz√≥an keret/konszign√°ci√≥s leh√≠v√°sokat, √©rt√©khat√°r alatti megrendel√©seket hoz l√©tre\",\"Piackutat√°st v√©gez a beszerz√©sek el≈ëtt\",\"Napi operat√≠v szinten kapcsolatot tart a sz√°ll√≠t√≥kkal az √°ltala k√©sz√≠tett leh√≠v√°sok √©s √©rt√©khat√°r alatti egyedi megrendel√©sek bonyol√≠t√°sa sor√°n\",\"Figyeli a rakt√°rk√©szletet √©s figyelemmel k√≠s√©ri, biztos√≠tja a k√©szletgazd√°lkod√°si szempontokat a be√©rkez≈ë ig√©nyek √©s a kiadand√≥ megrendel√©sek k√∂z√∂tt\",\"K√©sedelmes teljes√≠t√©s vagy min≈ës√©gi reklam√°ci√≥k eset√©ben megteszi a sz√ºks√©ges int√©zked√©seket\",\"Gondoskodik a megrendel√©sek szab√°lyzat szerinti archiv√°l√°s√°r√≥l\",\"Biztos√≠tja a sz√ºks√©ges adatszolg√°ltat√°sokat\"]","Elv√°r√°sok (t√∂mb)":"[\"Fels≈ëfok√∫ v√©gzetts√©g\",\"Legal√°bb 1 √©ves tapasztalat beszerz√©si/logisztikai/egy√©b adminisztr√°ci√≥s ter√ºleten\",\"MS Office irodai alkalmaz√°sok felhaszn√°l√≥i szint≈± ismerete\",\"Kiemelked≈ë kommunik√°ci√≥s √©s probl√©mamegold√≥ k√©szs√©g\",\"J√≥ csapatj√°t√©kos\",\"Szervez≈ëk√©szs√©g, prec√≠z munkav√©gz√©s\"]","El≈ënyt jelent (t√∂mb)":"[\"V√°llalatir√°ny√≠t√°si rendszerek (pl.: SAP, SRM) ismerete\",\"Elektronikus beszerz√©si rendszerek (eBeszerz√©s, eKatal√≥gus stb.) ismerete\"]","√ârt√©kaj√°nlat (t√∂mb)":"[\"Csapatunk m√©ret√©b≈ël √©s feladataink soksz√≠n≈±s√©g√©b≈ël ad√≥d√≥an sz√°mos fejl≈ëd√©si lehet≈ës√©get biztos√≠tunk beszerz≈ëink sz√°m√°ra\",\"Egy izgalmas, dinamikus piaci k√∂rnyezetben tal√°lhatsz szem√©lyre szabott, kih√≠v√°st jelent≈ë feladatokat\",\"Sz√≠nes programokat, sportol√°si lehet≈ës√©get biztos√≠tunk\",\"Munkat√°rsaink eg√©szs√©gbiztos√≠t√°sban r√©szes√ºlnek √©s r√©szt vehetnek sz≈±r≈ëprogramjainkon\",\"Piacon kiemelked≈ë b√©ren k√≠v√ºli juttat√°si csomag\"]","Jelentkez√©si hat√°rid≈ë":"2024.10.27.","C√©gn√©v":"MVM Services Zrt.","imageURLs":["https://placid-fra.fra1.digitaloceanspaces.com/production/rest-images/yoca0igrfalzk/rest-5d332c42469be398662ff4f4d1e10638-w83u3hc6.jpg","https://placid-fra.fra1.digitaloceanspaces.com/production/rest-images/qruwoxmp5grow/rest-be69ac2ae4e8b2d1c7664df4ebc0396a-mwfp67oa.jpg","https://placid-fra.fra1.digitaloceanspaces.com/production/rest-images/cmmonhpc0ujur/rest-4ea62884b747f03df0b52cf373a41693-pbvtchsm.jpg"],"multilineTexts":["üåü Karrierlehet≈ës√©g az MVM Services Zrt.-n√©l! üåü  \nüìç Helysz√≠n: Visonta vagy Budapest III. ker√ºlet  \nüíº Poz√≠ci√≥: Operat√≠v beszerz≈ë ‚Äì Er≈ëm≈±vi beszerz√©si ter√ºletre  \nüí∞ Versenyk√©pes fizet√©s √©s kiemelked≈ë juttat√°sok  \nüîç R√©szletek:  \n- Felel≈ëss√©gek: Keret/konszign√°ci√≥s leh√≠v√°sok √©s egyedi megrendel√©sek l√©trehoz√°sa, piackutat√°s, napi kapcsolattart√°s a sz√°ll√≠t√≥kkal, rakt√°rk√©szlet figyel√©se √©s k√©szletgazd√°lkod√°s, k√©sedelmes teljes√≠t√©sek kezel√©se, megrendel√©sek archiv√°l√°sa, adatszolg√°ltat√°sok biztos√≠t√°sa  \n- Elv√°r√°sok: Fels≈ëfok√∫ v√©gzetts√©g, legal√°bb 1 √©v tapasztalat beszerz√©s/logisztika ter√ºlet√©n, MS Office ismeretek, kiemelked≈ë kommunik√°ci√≥s k√©szs√©g, j√≥ csapatj√°t√©kos, prec√≠z szervez≈ëk√©szs√©g  \nHa k√©szen √°llsz a k√∂vetkez≈ë l√©p√©sre a karrieredben, jelentkezz most! üëâ [Jelentkezem](https://mvm.karrierportal.hu/allas/operativ-beszerzo-eromuvi-beszerzesi-teruletre-7745)  \n#Karrier #√Åll√°slehet≈ës√©g #Logisztika\noperativ-beszerzo-eromuvi","üîπ MVM Services Zrt. csatlakozz hozz√°nk! üîπ  \nüè¢ Munkav√©gz√©s helye: Visonta vagy Budapest III. ker√ºlet  \nüìã Poz√≠ci√≥: Operat√≠v beszerz≈ë ‚Äì Er≈ëm≈±vi beszerz√©si ter√ºletre  \n‚ú® Amit k√≠n√°lunk:  \n- Sz√°mos fejl≈ëd√©si lehet≈ës√©g  \n- Dinamikus piaci k√∂rnyezet  \n- Sz√≠nes programok √©s sportol√°si lehet≈ës√©gek  \nüë§ Ide√°lis jel√∂lt:  \n- üéì Fels≈ëfok√∫ v√©gzetts√©g  \n- üìÖ Legal√°bb 1 √©v tapasztalat beszerz√©s/logisztika ter√ºlet√©n  \nNe hagyd ki ezt a lehet≈ës√©get! Kattints ide a r√©szletek√©rt √©s a jelentkez√©shez: [Jelentkezem](https://mvm.karrierportal.hu/allas/operativ-beszerzo-eromuvi-beszerzesi-teruletre-7745)  \n#√Åll√°s #Logisztika #CsatlakozzHozz√°nk\noperativ-beszerzo-eromu","üì¢ √öj poz√≠ci√≥ ny√≠lt az MVM Services Zrt.-n√©l! üì¢  \nüåê Helysz√≠n: Visonta vagy Budapest III. ker√ºlet √©s Rugalmas Munkaid≈ë  \nüíº Poz√≠ci√≥: Operat√≠v beszerz≈ë ‚Äì Er≈ëm≈±vi beszerz√©si ter√ºletre  \nüí° Feladatok:  \n- Keret/konszign√°ci√≥s leh√≠v√°sok √©s egyedi megrendel√©sek l√©trehoz√°sa  \n- Piackutat√°s a beszerz√©sek el≈ëtt  \n- Napi kapcsolattart√°s a sz√°ll√≠t√≥kkal  \n- Rakt√°rk√©szlet figyel√©se √©s k√©szletgazd√°lkod√°s  \n- K√©sedelmes teljes√≠t√©sek kezel√©se  \n- Megrendel√©sek archiv√°l√°sa  \n- Adatszolg√°ltat√°sok biztos√≠t√°sa  \nüí∏ Juttat√°sok:  \n- Versenyk√©pes fizet√©s  \n- Eg√©szs√©gbiztos√≠t√°s √©s sz≈±r≈ëprogramok  \n- Kiemelked≈ë b√©ren k√≠v√ºli juttat√°sok  \nHa szakmai tapasztalatod van √©s szeretn√©l egy dinamikus csapat tagja lenni, v√°rjuk jelentkez√©sedet! üåü [Jelentkezem](https://mvm.karrierportal.hu/allas/operativ-beszerzo-eromuvi-beszerzesi-teruletre-7745)  \n#√öjPoz√≠ci√≥ #√Åll√°s #Feln≈ëtteknek\noperativ-beszerzo-eromuvi"],"additionalData":{"facebook":{"organic":{"v":52,"a":0},"cpc":{"v":0,"a":0},"referral":{"v":19,"a":0}},"linkedin":{"organic":{"v":246,"a":20},"cpc":{"v":249,"a":20},"referral":{"v":187,"a":25}},"google":{"organic":{"v":0,"a":0},"cpc":{"v":167,"a":7},"referral":{"v":32,"a":0}},"profession":{"cpc":{"v":343,"a":51},"referral":{"v":318,"a":56}},"dreamjobs":{"cpc":{"v":0,"a":0},"referral":{"v":0,"a":0}},"email":{"email":{"v":57,"a":4}},"direct":{"none":{"v":73,"a":4}},"egy√©b":{"organic":{"v":27,"a":1},"cpc":{"v":48,"a":2},"referral":{"v":46,"a":1},"email":{"v":55,"a":2}}}},{"URL":"https://mvm.karrierportal.hu/allas/halozatfejlesztesi-szakerto-7790","Poz√≠ci√≥ neve":"H√°l√≥zatfejleszt√©si szak√©rt≈ë","Munkav√©gz√©s helye":"Miskolc vagy Budapest","Szakter√ºlet":"M√©rn√∂k","Foglalkoztat√°s t√≠pusa":"Munkaszerz≈ëd√©s","Szerz≈ëd√©s t√≠pusa":"Hat√°rozatlan idej≈±","Napi munkaid≈ë":"Teljes munkaid≈ëben","Bevezet≈ë":"","Feladatok (t√∂mb)":"[\"Eloszt√≥h√°l√≥zat (Nagy- √©s k√∂z√©pfesz√ºlts√©g) t√°vlati tervez√©se, kiemelten f√≥kusz√°lva a meg√∫jul√≥ integr√°ci√≥ra\",\"T√©rs√©gvizsg√°latok elk√©sz√≠t√©se, h√°l√≥zati szimul√°ci√≥k futtat√°sa\",\"Eloszt√≥h√°l√≥zati kiemelt √ºgyf√©lig√©nyek kiszolg√°l√°s√°hoz sz√ºks√©ges egyedi m≈±szaki felt√©telek megad√°sa\",\"H√°l√≥zati beruh√°z√°sok, strat√©giai fejleszt√©sek meghat√°roz√°sa, tervfeladatlapok k√©sz√≠t√©se/v√©lem√©nyez√©se beruh√°z√°sok ind√≠t√°s√°hoz\",\"Eloszt√≥h√°l√≥zatra csatlakoz√≥ kiser≈ëm≈±vek h√°l√≥zati csatlakoz√°si terveinek szak√©rt≈ëi ellen≈ërz√©se j√≥v√°hagy√°shoz\",\"A h√°l√≥zatvizsg√°lati m√≥dszertan, ir√°nyelvek folyamatos aktualiz√°l√°sa, szab√°lyoz√°si v√°ltoz√°sok k√∂vet√©se\",\"Egyedi h√°l√≥zati projektekben r√©szv√©tel, a t√°rsas√°gcsoport k√©pviselete ipar√°gi f√≥rumokon\",\"Nemzetk√∂zi √©s hazai villamos energia ipari trendek naprak√©sz k√∂vet√©se, implement√°l√°sa\",\"H√°l√≥zati elemz√©sek k√©sz√≠t√©se, vezet≈ëi d√∂nt√©sel≈ëk√©sz√≠t≈ë anyagok √∂ssze√°ll√≠t√°sa √©s bemutat√°sa, javaslatt√©tel int√©zked√©sekre\"]","Elv√°r√°sok (t√∂mb)":"[\"Villamosm√©rn√∂ki v√©gzetts√©g (er≈ës√°ram√∫)\",\"Minimum 3 √©ves relev√°ns szakmai tapasztalat\",\"H√°l√≥zatszimul√°ci√≥s tapasztalat (pl.: Neplan, PSS/E )\",\"Eloszt√≥h√°l√≥zat ismerete\",\"Vonatkoz√≥ jogszab√°lyok, szab√°lyzatok √©s szabv√°nyok ismerete (pl. VET, Eloszt√≥i szab√°lyzat)\",\"Angol t√°rsalg√°si szint≈± nyelvtud√°s\",\"Analitikus k√©szs√©g\"]","El≈ënyt jelent (t√∂mb)":"[\"Programoz√°si ismeretek\"]","√ârt√©kaj√°nlat (t√∂mb)":"[\"Teljes√≠tm√©ny alapj√°n pr√©mium vagy b√≥nusz\",\"Folyamatos szakmai fejl≈ëd√©si lehet≈ës√©gek (tr√©ningek, konferenci√°k)\",\"Sz√©les k√∂r≈± b√©ren k√≠v√ºli juttat√°si csomag (cafeteria, eg√©szs√©gbiztos√≠t√°s, kock√°zati balesetbiztos√≠t√°s)\",\"√úd√ºl√©si, sportol√°si lehet≈ës√©gek, rendezv√©nyek\",\"Kiemelked≈ë teljes√≠tm√©ny jutalmaz√°sa\",\"Rugalmas munkaid≈ë\",\"V√°llalati szabadid≈ës √©s szakmai rendezv√©nyek\"]","Jelentkez√©si hat√°rid≈ë":"2024.10.27.","C√©gn√©v":"MVM √âm√°sz √Åramh√°l√≥zati Kft.","imageURLs":["https://placid-fra.fra1.digitaloceanspaces.com/production/rest-images/yoca0igrfalzk/rest-04e3ab17b2c469ebc43463de136a5052-qfrknrzp.jpg","https://placid-fra.fra1.digitaloceanspaces.com/production/rest-images/qruwoxmp5grow/rest-cabd6316a627be7d4c8546a3d9d06c76-puliif2i.jpg","https://placid-fra.fra1.digitaloceanspaces.com/production/rest-images/cmmonhpc0ujur/rest-ed2b62d9a70ac0d19197d0c6a142e423-rdgnqc2r.jpg"],"multilineTexts":["üåü Karrierlehet≈ës√©g az MVM √âm√°sz √Åramh√°l√≥zati Kft.-n√©l! üåü  \nüìç Helysz√≠n: Miskolc vagy Budapest  \nüíº Poz√≠ci√≥: H√°l√≥zatfejleszt√©si Szak√©rt≈ë  \nüí∞ Versenyk√©pes fizet√©s √©s juttat√°sok  \nüîç R√©szletek:  \n- Felel≈ëss√©gek: Eloszt√≥h√°l√≥zat tervez√©se, t√©rs√©gvizsg√°latok √©s h√°l√≥zati szimul√°ci√≥k, √ºgyf√©lig√©nyek meghat√°roz√°sa, h√°l√≥zati beruh√°z√°sok tervez√©se, kiser≈ëm≈±vek csatlakoz√°si terveinek ellen≈ërz√©se, m√≥dszertan friss√≠t√©se, trendek k√∂vet√©se, elemz√©sek k√©sz√≠t√©se  \n- Elv√°r√°sok: Villamosm√©rn√∂ki v√©gzetts√©g, minimum 3 √©v tapasztalat, h√°l√≥zatszimul√°ci√≥s tapasztalat, eloszt√≥h√°l√≥zat ismerete, jogszab√°lyok √©s szabv√°nyok ismerete, angol nyelvtud√°s, analitikus k√©szs√©g  \nHa k√©szen √°llsz a k√∂vetkez≈ë l√©p√©sre a karrieredben, jelentkezz most! üëâ [JELENTKEZ√âS LINK](https://mvm.karrierportal.hu/allas/halozatfejlesztesi-szakerto-7790)  \n#Karrier #√Åll√°slehet≈ës√©g #Feln≈ëtteknek\nhalozatfejlesztesi-szakerto","üîπ MVM √âm√°sz √Åramh√°l√≥zati Kft. csatlakozz hozz√°nk! üîπ  \nüè¢ Munkav√©gz√©s helye: Miskolc vagy Budapest  \nüìã Poz√≠ci√≥: H√°l√≥zatfejleszt√©si Szak√©rt≈ë  \n‚ú® Amit k√≠n√°lunk:  \n- Teljes√≠tm√©ny alapj√°n pr√©mium vagy b√≥nusz  \n- Folyamatos szakmai fejl≈ëd√©si lehet≈ës√©gek  \n- Sz√©les k√∂r≈± b√©ren k√≠v√ºli juttat√°si csomag  \nüë§ Ide√°lis jel√∂lt:  \n- Villamosm√©rn√∂ki v√©gzetts√©g (er≈ës√°ram√∫)  \n- Minimum 3 √©ves relev√°ns szakmai tapasztalat  \n- H√°l√≥zatszimul√°ci√≥s tapasztalat (pl.: Neplan, PSS/E)  \nNe hagyd ki ezt a lehet≈ës√©get! Kattints ide a r√©szletek√©rt √©s a jelentkez√©shez: [JELENTKEZ√âS LINK](https://mvm.karrierportal.hu/allas/halozatfejlesztesi-szakerto-7790)  \n#√Åll√°s #Feln≈ëttMunka #CsatlakozzHozz√°nk\nhalozatfejlesztesi-szakerto","üì¢ √öj poz√≠ci√≥ ny√≠lt az MVM √âm√°sz √Åramh√°l√≥zati Kft.-n√©l! üì¢  \nüåê Helysz√≠n: Miskolc vagy Budapest √©s Rugalmas Munkaid≈ë  \nüíº Poz√≠ci√≥: H√°l√≥zatfejleszt√©si Szak√©rt≈ë  \nüí° Feladatok:  \n- Eloszt√≥h√°l√≥zat (Nagy- √©s k√∂z√©pfesz√ºlts√©g) t√°vlati tervez√©se, meg√∫jul√≥ integr√°ci√≥val  \n- T√©rs√©gvizsg√°latok √©s h√°l√≥zati szimul√°ci√≥k k√©sz√≠t√©se  \n- Kiemelt √ºgyf√©lig√©nyek m≈±szaki felt√©teleinek meghat√°roz√°sa  \nüí∏ Juttat√°sok:  \n- Teljes√≠tm√©ny alapj√°n pr√©mium vagy b√≥nusz  \n- Folyamatos szakmai fejl≈ëd√©si lehet≈ës√©gek  \n- Sz√©les k√∂r≈± b√©ren k√≠v√ºli juttat√°si csomag  \nHa szakmai tapasztalatod van √©s szeretn√©l egy dinamikus csapat tagja lenni, v√°rjuk jelentkez√©sedet! üåü [JELENTKEZ√âS LINK](https://mvm.karrierportal.hu/allas/halozatfejlesztesi-szakerto-7790)  \n#√öjPoz√≠ci√≥ #√Åll√°s #Feln≈ëtteknek\nhalozatfejlesztesi-szakerto"],"additionalData":{"facebook":{"organic":{"v":0,"a":0},"cpc":{"v":51,"a":1},"referral":{"v":0,"a":0}},"linkedin":{"organic":{"v":264,"a":29},"cpc":{"v":197,"a":16},"referral":{"v":0,"a":0}},"google":{"organic":{"v":86,"a":3},"cpc":{"v":103,"a":7},"referral":{"v":39,"a":0}},"profession":{"cpc":{"v":0,"a":0},"referral":{"v":288,"a":31}},"dreamjobs":{"cpc":{"v":95,"a":7},"referral":{"v":0,"a":0}},"email":{"email":{"v":95,"a":6}},"direct":{"none":{"v":115,"a":5}},"egy√©b":{"organic":{"v":12,"a":0},"cpc":{"v":0,"a":0},"referral":{"v":51,"a":1},"email":{"v":53,"a":2}}}}]};

        const jobs = jsonData.data;
        let currentJob = jobs[0];

        // Initialize ScrollMagic (optional, if you want to keep the navbar effects)
        let controller = new ScrollMagic.Controller();

        // Navigation Bar Animation on Scroll
        const navbar = document.querySelector('.navbar');
        new ScrollMagic.Scene({
            triggerElement: 'body',
            triggerHook: 0,
            offset: 50
        })
        .setClassToggle(navbar, 'scrolled')
        .addTo(controller);

        // Update Active Nav Link and Nav Dot on Scroll
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('.nav-link');
        const navDots = document.querySelectorAll('.nav-dot');

        sections.forEach((section, index) => {
            new ScrollMagic.Scene({
                triggerElement: section,
                triggerHook: 0.5,
                duration: '100%'
            })
            .on('enter', () => {
                navLinks.forEach(link => link.classList.remove('active'));
                navDots.forEach(dot => dot.classList.remove('active'));
                navLinks[index].classList.add('active');
                navDots[index].classList.add('active');
            })
            .addTo(controller);
        });

        // Smooth Scroll to Sections with Animation
        document.querySelectorAll('a.nav-link, .nav-dot').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href') || `#${this.dataset.section}`;
                const targetElement = document.querySelector(targetId);
                
                gsap.to(window, {
                    duration: 1.0,
                    scrollTo: {
                        y: targetElement.offsetTop - 60, // Offset for fixed navbar
                        autoKill: false
                    },
                    ease: "power4.inOut"
                });
            });
        });

        // Job Selector without Autocomplete
        const jobSelector = document.getElementById('jobSelector');
        const jobDropdown = document.getElementById('jobDropdown');

        function populateJobDropdown() {
            jobDropdown.innerHTML = '';
            jobs.forEach((job, index) => {
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.classList.add('dropdown-item');
                a.href = '#';
                a.textContent = job['Poz√≠ci√≥ neve']; // Show only the job name
                a.dataset.index = index;
                a.addEventListener('click', function (e) {
                    e.preventDefault();
                    currentJob = jobs[this.dataset.index];
                    jobSelector.textContent = this.textContent;
                    displayJobDetails(currentJob);
                    displayImageGallery(currentJob);
                    displayTextContent(currentJob);
                    displayAnalysis(currentJob);
                });
                li.appendChild(a);
                jobDropdown.appendChild(li);
            });
        }

        // Display Job Details
        const jobDetails = document.getElementById('jobDetails');

        function displayJobDetails(job) {
            // Update the heading in the first section
            const jobTitleHeading = document.getElementById('jobTitleHeading');
            if (jobTitleHeading) {
                jobTitleHeading.textContent = job['Poz√≠ci√≥ neve'];
            }

            jobDetails.innerHTML = '';

            const row = document.createElement('div');
            row.classList.add('row', 'gy-3');

            const dataKeys = [
                { key: 'Munkav√©gz√©s helye', icon: 'bi-geo-alt' },
                { key: 'Szakter√ºlet', icon: 'bi-briefcase' },
                { key: 'Foglalkoztat√°s t√≠pusa', icon: 'bi-file-earmark-text' },
                { key: 'Szerz≈ëd√©s t√≠pusa', icon: 'bi-calendar-check' },
                { key: 'Napi munkaid≈ë', icon: 'bi-clock' },
                { key: 'Jelentkez√©si hat√°rid≈ë', icon: 'bi-calendar-event' },
                { key: 'C√©gn√©v', icon: 'bi-building' }
            ];

            dataKeys.forEach(item => {
                const col = document.createElement('div');
                col.classList.add('col-md-4', 'col-sm-6');

                const card = document.createElement('div');
                card.classList.add('card', 'h-100', 'text-center');

                const cardBody = document.createElement('div');
                cardBody.classList.add('card-body');

                const icon = document.createElement('i');
                icon.classList.add('bi', item.icon, 'fs-1', 'mb-3', 'text-warning');

                const title = document.createElement('h5');
                title.classList.add('card-title');
                title.textContent = item.key;

                const text = document.createElement('p');
                text.classList.add('card-text');
                text.textContent = job[item.key];

                cardBody.appendChild(icon);
                cardBody.appendChild(title);
                cardBody.appendChild(text);

                card.appendChild(cardBody);
                col.appendChild(card);
                row.appendChild(col);
            });

            // Bevezet≈ë Card
            const bevezetoCol = document.createElement('div');
            bevezetoCol.classList.add('col-md-4', 'col-sm-6');

            const bevezetoCard = document.createElement('div');
            bevezetoCard.classList.add('card', 'h-100', 'text-center', 'position-relative');

            const bevezetoCardBody = document.createElement('div');
            bevezetoCardBody.classList.add('card-body');

            const bevezetoIcon = document.createElement('i');
            bevezetoIcon.classList.add('bi', 'bi-info-circle', 'fs-1', 'mb-3', 'text-warning');

            const bevezetoTitle = document.createElement('h5');
            bevezetoTitle.classList.add('card-title');
            bevezetoTitle.textContent = 'Bevezet≈ë';

            const bevezetoText = document.createElement('p');
            bevezetoText.classList.add('card-text');
            const bevezetoShort = job['Bevezet≈ë'].split('. ')[0] + '...';
            bevezetoText.textContent = bevezetoShort;

            // Magnifying Glass Icon
            const expandButton = document.createElement('button');
            expandButton.classList.add('expand-icon');
            expandButton.innerHTML = '<i class="bi bi-arrows-fullscreen"></i>';
            expandButton.addEventListener('click', () => {
                const modalTitle = document.querySelector('#bevezetoModal .modal-title');
                const modalBody = document.querySelector('#bevezetoModal .modal-body');
                modalTitle.textContent = 'Bevezet≈ë';
                modalBody.textContent = job['Bevezet≈ë'];
                const bevezetoModalElement = document.getElementById('bevezetoModal');
                const bevezetoModal = new bootstrap.Modal(bevezetoModalElement);
                bevezetoModal.show();
            });

            bevezetoCardBody.appendChild(bevezetoIcon);
            bevezetoCardBody.appendChild(bevezetoTitle);
            bevezetoCardBody.appendChild(bevezetoText);

            bevezetoCard.appendChild(bevezetoCardBody);
            bevezetoCard.appendChild(expandButton);
            bevezetoCol.appendChild(bevezetoCard);
            row.appendChild(bevezetoCol);

            // R√©szletek Card
            const reszletekCol = document.createElement('div');
            reszletekCol.classList.add('col-md-4', 'col-sm-6');

            const reszletekCard = document.createElement('div');
            reszletekCard.classList.add('card', 'h-100', 'text-center', 'position-relative');

            const reszletekCardBody = document.createElement('div');
            reszletekCardBody.classList.add('card-body');

            const reszletekIcon = document.createElement('i');
            reszletekIcon.classList.add('bi', 'bi-card-text', 'fs-1', 'mb-3', 'text-warning');

            const reszletekTitle = document.createElement('h5');
            reszletekTitle.classList.add('card-title');
            reszletekTitle.textContent = 'Tov√°bbi r√©szletek';

            const reszletekText = document.createElement('p');
            reszletekText.classList.add('card-text');
            reszletekText.textContent = 'A r√©szletek√©rt kattints ide...';

            // Magnifying Glass Icon
            const reszletekExpandButton = document.createElement('button');
            reszletekExpandButton.classList.add('expand-icon');
            reszletekExpandButton.innerHTML = '<i class="bi bi-arrows-fullscreen"></i>';
            reszletekExpandButton.addEventListener('click', () => {
                const leirasContent = document.getElementById('leirasContent');
                if (leirasContent) {
                    leirasContent.textContent = job['Bevezet≈ë'];
                }

                const feladatok = JSON.parse(job['Elv√°r√°sok (t√∂mb)']);
                const elonytJelent = JSON.parse(job['El≈ënyt jelent (t√∂mb)']);
                const ertekajanlat = JSON.parse(job['√ârt√©kaj√°nlat (t√∂mb)']);

                const modalBody = document.querySelector('#reszletekModal .modal-body');
                modalBody.innerHTML = '';

                // Le√≠r√°s
                const leirasTitle = document.createElement('h5');
                leirasTitle.textContent = 'Le√≠r√°s';
                const leirasPara = document.createElement('p');
                leirasPara.textContent = job['Bevezet≈ë'];
                modalBody.appendChild(leirasTitle);
                modalBody.appendChild(leirasPara);

                // Amit k√©r√ºnk
                const feladatokTitle = document.createElement('h5');
                feladatokTitle.textContent = 'Amit k√©r√ºnk';
                const feladatokList = document.createElement('ul');
                feladatok.forEach(item => {
                    const li = document.createElement('li');
                    li.classList.add('green-check');
                    li.innerHTML = '<i class="bi bi-check-circle"></i>' + item;
                    feladatokList.appendChild(li);
                });
                modalBody.appendChild(feladatokTitle);
                modalBody.appendChild(feladatokList);

                // El≈ënyt jelent
                if (elonytJelent && elonytJelent.length > 0) {
                    const elonyTitle = document.createElement('h5');
                    elonyTitle.textContent = 'El≈ënyt jelent';
                    const elonyList = document.createElement('ul');
                    elonytJelent.forEach(item => {
                        const li = document.createElement('li');
                        li.classList.add('gray-check');
                        li.innerHTML = '<i class="bi bi-check-circle"></i>' + item;
                        elonyList.appendChild(li);
                    });
                    modalBody.appendChild(elonyTitle);
                    modalBody.appendChild(elonyList);
                }

                // √ârt√©kaj√°nlat
                if (ertekajanlat && ertekajanlat.length > 0) {
                    const ertekTitle = document.createElement('h5');
                    ertekTitle.textContent = '√ârt√©kaj√°nlat';
                    const ertekList = document.createElement('ul');
                    ertekajanlat.forEach(item => {
                        const li = document.createElement('li');
                        li.classList.add('yellow-plus');
                        li.innerHTML = '<i class="bi bi-plus-circle"></i>' + item;
                        ertekList.appendChild(li);
                    });
                    modalBody.appendChild(ertekTitle);
                    modalBody.appendChild(ertekList);
                }

                const reszletekModalElement = document.getElementById('reszletekModal');
                const reszletekModal = new bootstrap.Modal(reszletekModalElement);
                reszletekModal.show();
            });

            reszletekCardBody.appendChild(reszletekIcon);
            reszletekCardBody.appendChild(reszletekTitle);
            reszletekCardBody.appendChild(reszletekText);

            reszletekCard.appendChild(reszletekCardBody);
            reszletekCard.appendChild(reszletekExpandButton);
            reszletekCol.appendChild(reszletekCard);
            row.appendChild(reszletekCol);

            jobDetails.appendChild(row);
        }

        // Image Gallery
        const imageGallery = document.getElementById('imageGallery');

        function displayImageGallery(job) {
            imageGallery.innerHTML = '';

            const row = document.createElement('div');
            row.classList.add('row', 'gy-4');

            job['imageURLs'].forEach(url => {
                const col = document.createElement('div');
                col.classList.add('col-lg-4', 'col-md-6', 'col-sm-12');

                const card = document.createElement('div');
                card.classList.add('card', 'position-relative', 'h-100');

                const img = document.createElement('img');
                img.src = url;
                img.classList.add('img-fluid', 'w-100', 'h-100', 'object-fit-cover');

                // Download Icon
                const downloadButton = document.createElement('a');
                downloadButton.classList.add('icon-button', 'position-absolute', 'top-0', 'end-0', 'm-2');
                downloadButton.innerHTML = '<i class="bi bi-download"></i>';
                downloadButton.href = url;
                downloadButton.download = '';
                downloadButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    fetch(url)
                        .then(response => response.blob())
                        .then(blob => {
                            const blobUrl = window.URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.style.display = 'none';
                            a.href = blobUrl;
                            a.download = 'image.jpg';
                            document.body.appendChild(a);
                            a.click();
                            window.URL.revokeObjectURL(blobUrl);
                        });
                });

                card.appendChild(img);
                card.appendChild(downloadButton);
                col.appendChild(card);
                row.appendChild(col);
            });

            imageGallery.appendChild(row);
        }

        // Text Content
        const textContent = document.getElementById('textContent');

        function displayTextContent(job) {
            textContent.innerHTML = '';

            const row = document.createElement('div');
            row.classList.add('row', 'gy-4');

            job['multilineTexts'].forEach(text => {
                const col = document.createElement('div');
                col.classList.add('col-lg-4', 'col-md-6', 'col-sm-12');

                const card = document.createElement('div');
                card.classList.add('card', 'h-100', 'position-relative');

                const cardBody = document.createElement('div');
                cardBody.classList.add('card-body');

                cardBody.innerHTML = `<p class="card-text">${text.replace(/\n/g, '<br>')}</p>`;

                // Copy Icon
                const copyButton = document.createElement('button');
                copyButton.classList.add('icon-button', 'position-absolute', 'top-0', 'end-0', 'm-2');
                copyButton.innerHTML = '<i class="bi bi-clipboard"></i>';
                copyButton.addEventListener('click', () => {
                    navigator.clipboard.writeText(text).then(() => {
                        showToast('Sz√∂veg m√°solva a v√°g√≥lapra.');
                    });
                });

                card.appendChild(cardBody);
                card.appendChild(copyButton);
                col.appendChild(card);
                row.appendChild(col);
            });

            textContent.appendChild(row);
        }

        // Toast Message
        function showToast(message) {
            const toastElement = document.getElementById('toastMessage');
            const toastBody = toastElement.querySelector('.toast-body');
            toastBody.textContent = message;
            const toast = new bootstrap.Toast(toastElement, { delay: 2000 });
            toast.show();
        }

        // Display Analysis Section
        function displayAnalysis(job) {
            // Generate statistic cards
            generateStatCards(job);

            // Generate chart
            generateChart(job);
        }

        function generateStatCards(job) {
            const statCards = document.getElementById('statCards');
            statCards.innerHTML = '';

            const additionalData = job.additionalData;

            let totalVisitors = 0;
            let totalApplicants = 0;

            for (const source in additionalData) {
                for (const medium in additionalData[source]) {
                    const dataPoint = additionalData[source][medium];
                    totalVisitors += dataPoint.v;
                    totalApplicants += dataPoint.a;
                }
            }

            const conversionRate = totalVisitors > 0 ? ((totalApplicants / totalVisitors) * 100).toFixed(2) : 0;

            const stats = [
                { title: '√ñsszes l√°togat√≥', value: totalVisitors },
                { title: '√ñsszes jelentkez≈ë', value: totalApplicants },
                { title: '√Åtlagos konverzi√≥s ar√°ny', value: conversionRate + '%' }
            ];

            stats.forEach(stat => {
                const col = document.createElement('div');
                col.classList.add('col-md-4');

                const card = document.createElement('div');
                card.classList.add('stat-card');

                const h3 = document.createElement('h3');
                h3.textContent = stat.value;

                const p = document.createElement('p');
                p.textContent = stat.title;

                card.appendChild(h3);
                card.appendChild(p);
                col.appendChild(card);
                statCards.appendChild(col);
            });
        }

        function generateChart(job) {
            const ctx = document.getElementById('myChart').getContext('2d');

            const additionalData = job.additionalData;

            const labels = [];
            const conversionRates = [];

            // Collect sources and their data
            const sourcesData = {};

            for (const source in additionalData) {
                let sourceHasData = false;
                const sourceData = {
                    visitors: {},
                    applicants: {}
                };

                for (const medium in additionalData[source]) {
                    const dataPoint = additionalData[source][medium];
                    if (dataPoint.v > 0 || dataPoint.a > 0) {
                        sourceHasData = true;
                        sourceData.visitors[medium] = dataPoint.v;
                        sourceData.applicants[medium] = dataPoint.a;
                    }
                }

                if (sourceHasData) {
                    sourcesData[source] = sourceData;
                }
            }

            // Calculate total applicants for sorting
            const sourcesTotalApplicants = [];

            for (const source in sourcesData) {
                let totalApplicants = 0;
                for (const medium in sourcesData[source].applicants) {
                    totalApplicants += sourcesData[source].applicants[medium];
                }
                sourcesTotalApplicants.push({ source, totalApplicants });
            }

            // Sort by descending total applicants
            sourcesTotalApplicants.sort((a, b) => b.totalApplicants - a.totalApplicants);

            // Sorted labels and data
            const sortedLabels = [];
            const sortedSourcesData = {};

            sourcesTotalApplicants.forEach(item => {
                const source = item.source;
                sortedLabels.push(source.charAt(0).toUpperCase() + source.slice(1));
                sortedSourcesData[source] = sourcesData[source];
            });

            // Prepare mediums list
            const mediumsSet = new Set();
            for (const source in sortedSourcesData) {
                for (const medium in sortedSourcesData[source].visitors) {
                    mediumsSet.add(medium);
                }
            }
            const mediums = Array.from(mediumsSet);

            // Initialize datasets
            const visitorsDatasets = [];
            const applicantsDatasets = [];

            const baseColor = '#f0b323';

            // Prepare data per medium
            mediums.forEach((medium, index) => {
                const visitorsData = [];
                const applicantsData = [];

                sortedLabels.forEach(label => {
                    const sourceKey = label.toLowerCase();
                    const visitorValue = sortedSourcesData[sourceKey] && sortedSourcesData[sourceKey].visitors[medium] ? sortedSourcesData[sourceKey].visitors[medium] : 0;
                    const applicantValue = sortedSourcesData[sourceKey] && sortedSourcesData[sourceKey].applicants[medium] ? sortedSourcesData[sourceKey].applicants[medium] : 0;
                    visitorsData.push(visitorValue);
                    applicantsData.push(applicantValue);
                });

                // Calculate shade percentage
                const shadePercent = index * -10;

                // Add datasets if there are non-zero values
                if (visitorsData.some(value => value > 0)) {
                    visitorsDatasets.push({
                        label: `L√°togat√≥k - ${medium}`,
                        data: visitorsData,
                        backgroundColor: shadeColor(baseColor, shadePercent),
                        stack: 'Visitors',
                        type: 'bar'
                    });
                }

                if (applicantsData.some(value => value > 0)) {
                    applicantsDatasets.push({
                        label: `Jelentkez≈ëk - ${medium}`,
                        data: applicantsData,
                        backgroundColor: shadeColor(baseColor, shadePercent - 20),
                        stack: 'Applicants',
                        type: 'bar'
                    });
                }
            });

            // Calculate conversion rates
            sortedLabels.forEach(label => {
                const sourceKey = label.toLowerCase();
                let totalVisitors = 0;
                let totalApplicants = 0;

                for (const medium in sortedSourcesData[sourceKey].visitors) {
                    totalVisitors += sortedSourcesData[sourceKey].visitors[medium] || 0;
                }

                for (const medium in sortedSourcesData[sourceKey].applicants) {
                    totalApplicants += sortedSourcesData[sourceKey].applicants[medium] || 0;
                }

                const conversionRate = totalVisitors > 0 ? (totalApplicants / totalVisitors) * 100 : 0;
                conversionRates.push(conversionRate.toFixed(2));
            });

            // Destroy existing chart if exists
            if (window.myChart instanceof Chart) {
                window.myChart.destroy();
            }

            window.myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: sortedLabels,
                    datasets: [
                        ...visitorsDatasets,
                        ...applicantsDatasets,
                        {
                            label: 'Konverzi√≥s ar√°ny (%)',
                            data: conversionRates,
                            type: 'line',
                            fill: false,
                            borderColor: '#333333',
                            backgroundColor: '#333333',
                            yAxisID: 'y1',
                            tension: 0.1,
                            pointBackgroundColor: '#333333',
                            pointBorderColor: '#333333'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            callbacks: {
                                label: function (context) {
                                    let label = context.dataset.label || '';
                                    let value = context.parsed.y;

                                    // Ignore zero values in tooltip
                                    if (value === 0) {
                                        return null;
                                    }

                                    if (label) {
                                        label += ': ';
                                    }
                                    label += value;

                                    // Add percentage symbol for conversion rate
                                    if (context.dataset.label === 'Konverzi√≥s ar√°ny (%)') {
                                        label += '%';
                                    }

                                    return label;
                                }
                            }
                        },
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        x: {
                            stacked: true
                        },
                        y: {
                            stacked: true,
                            title: {
                                display: true,
                                text: 'Darabsz√°m'
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            grid: {
                                drawOnChartArea: false
                            },
                            title: {
                                display: true,
                                text: 'Konverzi√≥s ar√°ny (%)'
                            }
                        }
                    }
                }
            });
        }

        // Utility function to shade color
        function shadeColor(color, percent) {
            let f = parseInt(color.slice(1), 16),
                t = percent < 0 ? 0 : 255,
                p = percent < 0 ? percent * -1 : percent,
                R = f >> 16,
                G = (f >> 8) & 0x00FF,
                B = f & 0x0000FF;
            return "#" + (
                0x1000000 +
                (Math.round((t - R) * p / 100) + R) * 0x10000 +
                (Math.round((t - G) * p / 100) + G) * 0x100 +
                (Math.round((t - B) * p / 100) + B)
            ).toString(16).slice(1);
        }

        // Initial setup
        populateJobDropdown();
        jobSelector.textContent = currentJob['Poz√≠ci√≥ neve']; // Show only the job name
        displayJobDetails(currentJob);
        displayImageGallery(currentJob);
        displayTextContent(currentJob);
        displayAnalysis(currentJob);
    });
</script>

</body>
</html>